"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.mkArray = function (lim) {
    return Array.from(Array(lim), function (a, i) { return i; });
};
exports.buildErrorPointer = function (pos) {
    return exports.mkArray(pos + 2).map(function () { return '-'; }).join('') + '^';
};
exports.positionedLine = function (pos, lines, fn) {
    return pos + 1 + ": " + (fn ? fn(lines[pos]) : lines[pos]);
};
exports.trimLine = function (line) {
    return line.length > 80 ? line.substr(0, 77) + '...' : line;
};
exports.buildErrorFromJsonAndPosition = function (lines, context, position) {
    if (lines[position.l - 1]) {
        context.push(exports.positionedLine(position.l - 1, lines));
    }
    context.push(exports.positionedLine(position.l, lines, exports.trimLine));
    context.push(exports.buildErrorPointer(position.c));
    if (lines[position.l + 1]) {
        context.push(exports.positionedLine(position.l + 1, lines));
    }
    return context.join('\n');
};
//# sourceMappingURL=helper.js.map